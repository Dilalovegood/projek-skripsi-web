<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Hasil Analisis - {{ skin_info.title }}</title>
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <style type="text/tailwindcss">
      @theme {
        --color-primary: #2c9d8f;
        --color-secondary: #515151;
        --color-desc: #a49898;
        --background-primary: #2c9d8f;
      }

      @layer base {
        body {
          font-family: "Poppins", sans-serif;
        }
      }

      .menu {
        display: flex;
        gap: 40px;
      }

      @media (max-width: 768px) {
        .menu {
          display: none;
        }
      }

      .progress-bar {
        transition: width 0.5s ease-in-out;
      }
    </style>
  </head>
  <body>
    <header class="fixed top-0 left-0 w-full z-50 bg-white shadow-sm">
      <nav class="flex justify-between items-center bg-white py-2 container mx-auto px-4">
        <div class="flex items-center w-[60px] h-[60px] md:w-[80px] md:h-[80px]">
          <img
            src="{{ url_for('static', filename='images/logo.png') }}"
            alt="Logo"
            class="w-full h-full object-contain"
          />
        </div>

        <!-- Desktop Menu -->
        <ul class="menu hidden md:flex">
          <li><a href="/" class="hover:text-primary transition-colors">Home</a></li>
          <li><a href="/#about-section" class="hover:text-primary transition-colors">About</a></li>
          <li><a href="/scantype" class="hover:text-primary transition-colors">Skin Type</a></li>
        </ul>

        <!-- Mobile Menu Button -->
        <button id="mobileMenuBtn" class="md:hidden p-2">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M3 12H21M3 6H21M3 18H21" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </button>

        <!-- Scan Button -->
        <div class="hidden md:flex items-center gap-2 bg-primary rounded-xl px-4 py-2">
          <a href="/scantype" class="text-white text-base font-semibold">Scan Lagi</a>
          <div class="w-[28px] h-[28px] bg-[#2C9D8F] rounded-full flex items-center justify-center">
            <svg width="16" height="16" viewBox="0 0 38 38" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M32.6562 5.9375V11.875C32.6562 12.0325 32.5937 12.1835 32.4823 12.2948C32.371 12.4062 32.22 12.4688 32.0625 12.4688C31.905 12.4688 31.754 12.4062 31.6427 12.2948C31.5313 12.1835 31.4688 12.0325 31.4688 11.875V6.53125H26.125C25.9675 6.53125 25.8165 6.46869 25.7052 6.35734C25.5938 6.24599 25.5312 6.09497 25.5312 5.9375C25.5312 5.78003 25.5938 5.62901 25.7052 5.51766C25.8165 5.40631 25.9675 5.34375 26.125 5.34375H32.0625C32.22 5.34375 32.371 5.40631 32.4823 5.51766C32.5937 5.62901 32.6562 5.78003 32.6562 5.9375ZM11.875 31.4688H6.53125V26.125C6.53125 25.9675 6.46869 25.8165 6.35734 25.7052C6.24599 25.5938 6.09497 25.5312 5.9375 25.5312C5.78003 25.5312 5.62901 25.5938 5.51766 25.7052C5.40631 25.8165 5.34375 25.9675 5.34375 26.125V32.0625C5.34375 32.22 5.40631 32.371 5.51766 32.4823C5.62901 32.5937 5.78003 32.6562 5.9375 32.6562H11.875C12.0325 32.6562 12.1835 32.5937 12.2948 32.4823C12.4062 32.371 12.4688 32.22 12.4688 32.0625C12.4688 31.905 12.4062 31.754 12.2948 31.6427C12.1835 31.5313 12.0325 31.4688 11.875 31.4688ZM32.0625 25.5312C31.905 25.5312 31.754 25.5938 31.6427 25.7052C31.5313 25.8165 31.4688 25.9675 31.4688 26.125V31.4688H26.125C25.9675 31.4688 25.8165 31.5313 25.7052 31.6427C25.5938 31.754 25.5312 31.905 25.5312 32.0625C25.5312 32.22 25.5938 32.371 25.7052 32.4823C25.8165 32.5937 25.9675 32.6562 26.125 32.6562H32.0625C32.22 32.6562 32.371 32.5937 32.4823 32.4823C32.5937 32.371 32.6562 32.22 32.6562 32.0625V26.125C32.6562 25.9675 32.5937 25.8165 32.4823 25.7052C32.371 25.5938 32.22 25.5312 32.0625 25.5312ZM5.9375 12.4688C6.09497 12.4688 6.24599 12.4062 6.35734 12.2948C6.46869 12.1835 6.53125 12.0325 6.53125 11.875V6.53125H11.875C12.0325 6.53125 12.1835 6.46869 12.2948 6.35734C12.4062 6.24599 12.4688 6.09497 12.4688 5.9375C12.4688 5.78003 12.4062 5.62901 12.2948 5.51766C12.1835 5.40631 12.0325 5.34375 11.875 5.34375H5.9375C5.78003 5.34375 5.62901 5.40631 5.51766 5.51766C5.40631 5.62901 5.34375 5.78003 5.34375 5.9375V11.875C5.34375 12.0325 5.40631 12.1835 5.51766 12.2948C5.62901 12.4062 5.78003 12.4688 5.9375 12.4688ZM11.875 11.2812H26.125C26.2825 11.2812 26.4335 11.3438 26.5448 11.4552C26.6562 11.5665 26.7188 11.7175 26.7188 11.875V26.125C26.7188 26.2825 26.6562 26.4335 26.5448 26.5448C26.4335 26.6562 26.2825 26.7188 26.125 26.7188H11.875C11.7175 26.7188 11.5665 26.6562 11.4552 26.5448C11.3438 26.4335 11.2812 26.2825 11.2812 26.125V11.875C11.2812 11.7175 11.3438 11.5665 11.4552 11.4552C11.5665 11.3438 11.7175 11.2812 11.875 11.2812ZM12.4688 25.5312H25.5312V12.4688H12.4688V25.5312Z" fill="white"/>
            </svg>
          </div>
        </div>
      </nav>

      <!-- Mobile Menu Overlay -->
      <div id="mobileMenu" class="hidden md:hidden bg-white border-t px-4 py-4">
        <ul class="flex flex-col gap-4">
          <li><a href="/" class="block py-2 hover:text-primary transition-colors">Home</a></li>
          <li><a href="/#about-section" class="block py-2 hover:text-primary transition-colors">About</a></li>
          <li><a href="/scantype" class="block py-2 hover:text-primary transition-colors">Skin Type</a></li>
        </ul>
        <div class="mt-4">
          <a href="/scantype" class="flex items-center justify-center gap-2 bg-primary rounded-xl px-4 py-3 w-full">
            <span class="text-white text-base font-semibold">Scan Lagi</span>
          </a>
        </div>
      </div>
    </header>

    <!-- Result Section -->
    <section class="flex flex-col justify-between items-center mt-20 md:mt-24 container mx-auto px-4">
      <div class="w-full flex flex-col items-center">
        <!-- Result Header -->
        <div class="text-center mb-8">
          <h1 class="font-bold text-[28px] md:text-[48px] text-center text-secondary leading-tight">
            Tipe kulit anda <span class="text-primary">{{ skin_info.title }}</span>
          </h1>
          
          <!-- Confidence Bar -->
          <div class="mt-6 max-w-md mx-auto">
            <div class="flex justify-between items-center mb-2">
              <span class="text-sm text-desc">Tingkat Kepercayaan</span>
              <span class="text-sm font-semibold text-primary">{{ "%.1f"|format(confidence * 100) }}%</span>
            </div>
            <div class="w-full bg-gray-200 rounded-full h-3">
              <div class="progress-bar bg-primary h-3 rounded-full" style="width: {{ confidence * 100 }}%"></div>
            </div>
          </div>
        </div>

        <!-- Uploaded Image Display -->
        {% if image_filename %}
        <div class="mb-8">
          <div class="bg-white p-4 rounded-xl shadow-lg max-w-md mx-auto">
            <h3 class="text-center text-lg font-semibold text-secondary mb-4">Foto yang Dianalisis</h3>
            <div class="relative">
              <img 
                src="{{ url_for('static', filename='uploads/' + image_filename) }}" 
                alt="Foto yang dianalisis" 
                class="w-full h-auto max-h-[300px] object-cover rounded-lg"
                onerror="this.style.display='none'; this.nextElementSibling.style.display='block';"
              />
              <div class="hidden text-center text-gray-500 py-8">
                <svg class="mx-auto w-12 h-12 text-gray-400 mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
                </svg>
                <p>Foto tidak dapat ditampilkan</p>
              </div>
            </div>
          </div>
        </div>
        {% endif %}

        <!-- Skin Type Description -->
        <div class="max-w-4xl mx-auto mb-12">
          <div class="bg-blue-50 border border-blue-200 rounded-lg p-6">
            <h3 class="text-blue-800 font-semibold text-lg mb-3">ðŸ“‹ Tentang {{ skin_info.title }}</h3>
            <p class="text-blue-700 text-base leading-relaxed">{{ skin_info.description }}</p>
          </div>
        </div>

        <!-- Characteristics Section -->
        <div class="w-full max-w-6xl mb-12">
          <h2 class="font-bold text-[24px] md:text-[36px] text-center text-secondary mb-8">
            <span class="text-primary">Karakteristik</span> Kulit Anda
          </h2>
          
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            {% for characteristic in skin_info.characteristics %}
            <div class="flex items-start gap-3 p-4 bg-[#EAF5F4] rounded-lg">
              <div class="w-2 h-2 bg-primary rounded-full mt-2 flex-shrink-0"></div>
              <p class="text-[#515151] text-[16px] md:text-[18px]">{{ characteristic }}</p>
            </div>
            {% endfor %}
          </div>
        </div>

        <!-- Recommendations Header -->
        <h2 class="font-bold text-[28px] md:text-[48px] text-center text-secondary mt-12 md:mt-[60px] mb-8 md:mb-[60px]">
          <span class="text-primary">Rekomendasi</span> Perawatan Kulit
        </h2>
      </div>

      <!-- Care Tips Section -->
      <div class="w-full max-w-6xl">
        <ul class="flex flex-col gap-8 md:gap-12">
          <!-- Cleanser -->
          <li class="flex flex-col lg:flex-row items-center gap-6 lg:gap-10">
            <div class="px-4 lg:px-10 max-w-[300px] flex flex-col items-center flex-shrink-0">
              <img class="max-w-[80px] md:max-w-[100px] object-contain" src="{{ url_for('static', filename='images/Frame 37.svg') }}" alt="Cleanser">
              <span class="text-[16px] md:text-[18px] text-center w-full text-primary font-semibold mt-4">
                Cleanser
              </span>
            </div>
            <div class="p-6 lg:p-10 bg-[#EAF5F4] rounded-xl w-full">
              {% for tip in skin_info.care_tips %}
                {% if loop.index <= 2 %}
                <p class="text-[#515151] text-[16px] md:text-[20px] font-normal {% if not loop.first %}mt-4{% endif %}">
                  {{ tip }}
                </p>
                {% endif %}
              {% endfor %}
            </div>
          </li>

          <!-- Moisturizer -->
          <li class="flex flex-col lg:flex-row items-center gap-6 lg:gap-10">
            <div class="px-4 lg:px-10 max-w-[300px] flex flex-col items-center flex-shrink-0">
              <img class="max-w-[80px] md:max-w-[100px] object-contain" src="{{ url_for('static', filename='images/Group 32.svg') }}" alt="Moisturizer">
              <span class="text-[16px] md:text-[18px] text-center w-full text-primary font-semibold mt-4">
                Moisturizer
              </span>
            </div>
            <div class="p-6 lg:p-10 bg-[#EAF5F4] rounded-xl w-full">
              {% for tip in skin_info.care_tips %}
                {% if loop.index > 2 and loop.index <= 4 %}
                <p class="text-[#515151] text-[16px] md:text-[20px] font-normal {% if loop.index > 3 %}mt-4{% endif %}">
                  {{ tip }}
                </p>
                {% elif loop.index <= 2 %}
                <p class="text-[#515151] text-[16px] md:text-[20px] font-normal {% if not loop.first %}mt-4{% endif %}">
                  Gunakan pelembab yang sesuai dengan jenis kulit {{ skin_info.title.lower() }} Anda untuk menjaga kelembaban optimal.
                </p>
                {% endif %}
              {% endfor %}
            </div>
          </li>

          <!-- Sunscreen -->
          <li class="flex flex-col lg:flex-row items-center gap-6 lg:gap-10">
            <div class="px-4 lg:px-10 max-w-[300px] flex flex-col items-center flex-shrink-0">
              <img class="max-w-[80px] md:max-w-[100px] object-contain" src="{{ url_for('static', filename='images/Frame 38.svg') }}" alt="Sunscreen">
              <span class="text-[16px] md:text-[18px] text-center w-full text-primary font-semibold mt-4">
                Sunscreen
              </span>
            </div>
            <div class="p-6 lg:p-10 bg-[#EAF5F4] rounded-xl w-full">
              <p class="text-[#515151] text-[16px] md:text-[20px] font-normal">
                Gunakan sunscreen dengan SPF minimal 30 setiap hari, bahkan saat di dalam ruangan.
              </p>
              <p class="text-[#515151] text-[16px] md:text-[20px] font-normal mt-4">
                Pilih sunscreen yang tidak comedogenic untuk mencegah penyumbatan pori-pori.
              </p>
              <p class="text-[#515151] text-[16px] md:text-[20px] font-normal mt-4">
                Aplikasikan ulang setiap 2-3 jam untuk perlindungan maksimal.
              </p>
            </div>
          </li>
        </ul>
      </div>

      <!-- Action Buttons -->
      <div class="flex flex-col sm:flex-row gap-4 mt-12 md:mt-20">
        <a href="/scantype" class="flex items-center gap-2 bg-primary rounded-xl px-6 py-3 text-center">
          <span class="text-white text-base font-semibold">Scan Ulang</span>
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M4 4V9H4.58152M4.58152 9C5.24618 7.35652 6.43937 5.97687 8.01091 5.08658C9.58245 4.19629 11.4327 3.84356 13.2613 4.07759C15.0899 4.31162 16.7909 5.11929 18.0953 6.375C19.3997 7.63071 20.2388 9.27696 20.4966 11.0736M4.58152 9H9M20 20V15H19.4185M19.4185 15C18.7538 16.6435 17.5606 18.0231 15.9891 18.9134C14.4176 19.8037 12.5673 20.1564 10.7387 19.9224C8.91012 19.6884 7.2091 18.8807 5.90472 17.625C4.60034 16.3693 3.76118 14.723 3.50342 12.9264M19.4185 15H15" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </a>
        <a href="#" class="bg-white rounded-xl px-6 py-3 border border-primary text-center">
          <span class="text-primary text-base font-semibold">Konsultasi dengan Ahli</span>
        </a>
      </div>
    </section>

    <footer class="bg-[#EAF5F4] py-10 pt-16 mt-20 md:mt-40">
      <div class="container mx-auto px-4">
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
          <!-- Logo Section -->
          <div class="flex flex-col items-center md:items-start">
            <div class="flex items-center">
              <div class="w-[60px] h-[60px] md:w-[80px] md:h-[80px]">
                <img src="{{ url_for('static', filename='images/logo.png') }}" alt="Logo" class="w-full h-full object-contain"/>
              </div>
              <span class="text-[24px] md:text-[32px] text-primary font-bold ml-2">
                CS<span class="text-secondary">kin</span>
              </span>
            </div>
          </div>

          <!-- Menu Section -->
          <div class="flex flex-col gap-4 text-[#515151] text-center md:text-left">
            <h2 class="font-semibold">Menu</h2>
            <ul class="flex flex-col gap-4 text-[#515151]">
              <li><a href="/" class="hover:text-primary transition-colors">Home</a></li>
              <li><a href="/#about-section" class="hover:text-primary transition-colors">About</a></li>
              <li><a href="/scantype" class="hover:text-primary transition-colors">Skin Type</a></li>
            </ul>
          </div>

          <!-- Contact Section -->
          <div class="flex flex-col gap-4 text-[#515151] text-center md:text-left">
            <h2 class="font-semibold">Kontak / Hubungi Kami</h2>
            <ul class="flex flex-col gap-4 text-[#515151] text-sm md:text-base">
              <li><a href="mailto:dilalovegood@gmail.com" class="hover:text-primary transition-colors">
                Email : dilalovegood@gmail.com
              </a></li>
              <li><a href="https://wa.me/6281234567890" class="hover:text-primary transition-colors">
                WhatsApp: +62 812 3456 7890
              </a></li>
              <li><a href="https://instagram.com/cskin" class="hover:text-primary transition-colors">
                Instagram: @cskin
              </a></li>
            </ul>
          </div>

          <!-- Action Buttons -->
          <div class="flex flex-col gap-4 items-center md:items-start">
            <a href="/scantype" class="flex items-center gap-2 bg-primary rounded-xl px-4 py-2 w-full md:w-auto justify-center">
              <span class="text-white text-sm md:text-base font-semibold">Scan Skin</span>
              <div class="w-[24px] h-[24px] md:w-[28px] md:h-[28px] bg-[#2C9D8F] rounded-full flex items-center justify-center">
                <svg width="16" height="16" viewBox="0 0 38 38" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M32.6562 5.9375V11.875C32.6562 12.0325 32.5937 12.1835 32.4823 12.2948C32.371 12.4062 32.22 12.4688 32.0625 12.4688C31.905 12.4688 31.754 12.4062 31.6427 12.2948C31.5313 12.1835 31.4688 12.0325 31.4688 11.875V6.53125H26.125C25.9675 6.53125 25.8165 6.46869 25.7052 6.35734C25.5938 6.24599 25.5312 6.09497 25.5312 5.9375C25.5312 5.78003 25.5938 5.62901 25.7052 5.51766C25.8165 5.40631 25.9675 5.34375 26.125 5.34375H32.0625C32.22 5.34375 32.371 5.40631 32.4823 5.51766C32.5937 5.62901 32.6562 5.78003 32.6562 5.9375ZM11.875 31.4688H6.53125V26.125C6.53125 25.9675 6.46869 25.8165 6.35734 25.7052C6.24599 25.5938 6.09497 25.5312 5.9375 25.5312C5.78003 25.5312 5.62901 25.5938 5.51766 25.7052C5.40631 25.8165 5.34375 25.9675 5.34375 26.125V32.0625C5.34375 32.22 5.40631 32.371 5.51766 32.4823C5.62901 32.5937 5.78003 32.6562 5.9375 32.6562H11.875C12.0325 32.6562 12.1835 32.5937 12.2948 32.4823C12.4062 32.371 12.4688 32.22 12.4688 32.0625C12.4688 31.905 12.4062 31.754 12.2948 31.6427C12.1835 31.5313 12.0325 31.4688 11.875 31.4688ZM32.0625 25.5312C31.905 25.5312 31.754 25.5938 31.6427 25.7052C31.5313 25.8165 31.4688 25.9675 31.4688 26.125V31.4688H26.125C25.9675 31.4688 25.8165 31.5313 25.7052 31.6427C25.5938 31.754 25.5312 31.905 25.5312 32.0625C25.5312 32.22 25.5938 32.371 25.7052 32.4823C25.8165 32.5937 25.9675 32.6562 26.125 32.6562H32.0625C32.22 32.6562 32.371 32.5937 32.4823 32.4823C32.5937 32.371 32.6562 32.22 32.6562 32.0625V26.125C32.6562 25.9675 32.5937 25.8165 32.4823 25.7052C32.371 25.5938 32.22 25.5312 32.0625 25.5312ZM5.9375 12.4688C6.09497 12.4688 6.24599 12.4062 6.35734 12.2948C6.46869 12.1835 6.53125 12.0325 6.53125 11.875V6.53125H11.875C12.0325 6.53125 12.1835 6.46869 12.2948 6.35734C12.4062 6.24599 12.4688 6.09497 12.4688 5.9375C12.4688 5.78003 12.4062 5.62901 12.2948 5.51766C12.1835 5.40631 12.0325 5.34375 11.875 5.34375H5.9375C5.78003 5.34375 5.62901 5.40631 5.51766 5.51766C5.40631 5.62901 5.34375 5.78003 5.34375 5.9375V11.875C5.34375 12.0325 5.40631 12.1835 5.51766 12.2948C5.62901 12.4062 5.78003 12.4688 5.9375 12.4688ZM11.875 11.2812H26.125C26.2825 11.2812 26.4335 11.3438 26.5448 11.4552C26.6562 11.5665 26.7188 11.7175 26.7188 11.875V26.125C26.7188 26.2825 26.6562 26.4335 26.5448 26.5448C26.4335 26.6562 26.2825 26.7188 26.125 26.7188H11.875C11.7175 26.7188 11.5665 26.6562 11.4552 26.5448C11.3438 26.4335 11.2812 26.2825 11.2812 26.125V11.875C11.2812 11.7175 11.3438 11.5665 11.4552 11.4552C11.5665 11.3438 11.7175 11.2812 11.875 11.2812ZM12.4688 25.5312H25.5312V12.4688H12.4688V25.5312Z" fill="white"/>
                </svg>
              </div>
            </a>
            <a href="#" class="bg-white rounded-xl px-4 py-2 border border-primary text-center w-full md:w-auto">
              <span class="text-primary text-center text-sm md:text-base font-semibold">Konsultasi</span>
            </a>
          </div>
        </div>

        <div class="mt-12 md:mt-20">
          <hr class="border-gray-300">
          <div class="flex flex-col md:flex-row justify-center md:justify-between items-center mt-5 gap-4">
            <p class="text-[#515151] text-xs md:text-sm font-normal text-center">Â© 2023 CSKIN. All rights reserved.</p>
            <p class="text-[#515151] text-xs md:text-sm font-normal text-center">Terms of Service | Privacy Policy</p>
          </div>
        </div>
      </div>
    </footer>

    <script>
      // Mobile menu toggle
      const mobileMenuBtn = document.getElementById('mobileMenuBtn');
      const mobileMenu = document.getElementById('mobileMenu');

      if (mobileMenuBtn && mobileMenu) {
        mobileMenuBtn.addEventListener('click', () => {
          mobileMenu.classList.toggle('hidden');
        });
      }

      // Smooth scrolling for anchor links
      document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
          e.preventDefault();
          const target = document.querySelector(this.getAttribute('href'));
          if (target) {
            target.scrollIntoView({
              behavior: 'smooth',
              block: 'start'
            });
          }
        });
      });

      // Animate progress bar on load
      window.addEventListener('load', () => {
        const progressBar = document.querySelector('.progress-bar');
        if (progressBar) {
          setTimeout(() => {
            progressBar.style.width = '{{ confidence * 100 }}%';
          }, 500);
        }
      });
    </script>
  </body>
</html>